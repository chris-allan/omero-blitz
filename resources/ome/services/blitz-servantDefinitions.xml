<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<!--
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# $Id$
#
# Copyright 2007 Glencoe Software, Inc. All rights reserved.
# Use is subject to license terms supplied in LICENSE.txt
#
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-->

<!--
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Written by:  Josh Moore, josh at glencoesoftware.com
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-->

<beans>

  <bean class="ome.services.blitz.util.ApiConsistencyCheck"/>

  <!-- Non-ome.api service-based
  ============================================================================== 
  All of these services are marked as "singleton" since each ServiceFactoryI
  manages its own statefulness.
  -->

  <bean id="omero.api.IScript" class="omero.api._IScriptTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.ScriptI">
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <!-- Stateless ome.api service-based -->

  <bean id="omero.api.IAdmin" class="omero.api._IAdminTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.AdminI">
            <constructor-arg ref="managed-ome.api.IAdmin"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IConfig" class="omero.api._IConfigTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.ConfigI">
            <constructor-arg ref="managed-ome.api.IConfig"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IDelete" class="omero.api._IDeleteTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.DeleteI">
            <constructor-arg ref="managed-ome.api.IDelete"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IPixels" class="omero.api._IPixelsTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.PixelsI">
            <constructor-arg ref="managed-ome.api.IPixels"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IPojos" class="omero.api._IPojosTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.PojosI">
            <constructor-arg ref="managed-ome.api.IPojos"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IQuery" class="omero.api._IQueryTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.QueryI">
            <constructor-arg ref="managed-ome.api.IQuery"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IRenderingSettings" class="omero.api._IRenderingSettingsTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.RenderingSettingsI">
            <constructor-arg ref="managed-ome.api.IRenderingSettings"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IRepositoryInfo" class="omero.api._IRepositoryInfoTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.RepositoryInfoI">
            <constructor-arg ref="managed-ome.api.IRepositoryInfo"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.ISession" class="omero.api._ISessionTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.SessionI">
            <constructor-arg ref="managed-ome.api.ISession"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IShare" class="omero.api._IShareTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.ShareI">
            <constructor-arg ref="managed-ome.api.IShare"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.ITypes" class="omero.api._ITypesTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.TypesI">
            <constructor-arg ref="managed-ome.api.ITypes"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.IUpdate" class="omero.api._IUpdateTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.UpdateI">
            <constructor-arg ref="managed-ome.api.IUpdate"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <!-- Stateful ome.api service-based -->

  <bean id="omero.api.Gateway" class="omero.api._GatewayTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.gateway.OmeroJavaService"/>
    </constructor-arg>
  </bean>

  <bean id="omero.api.JobHandle" class="omero.api._JobHandleTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.JobHandleI">
            <constructor-arg ref="managed-ome.api.JobHandle"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.RawFileStore" class="omero.api._RawFileStoreTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.RawFileStoreI">
            <constructor-arg ref="managed-ome.api.RawFileStore"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.RawPixelsStore" class="omero.api._RawPixelsStoreTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.RawPixelsStoreI">
            <constructor-arg ref="managed-ome.api.RawPixelsStore"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.RenderingEngine" class="omero.api._RenderingEngineTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.RenderingEngineI">
            <constructor-arg ref="managed-omeis.providers.re.RenderingEngine"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.Search" class="omero.api._SearchTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.SearchI">
            <constructor-arg ref="managed-ome.api.Search"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

  <bean id="omero.api.ThumbnailStore" class="omero.api._ThumbnailStoreTie" singleton="false">
    <constructor-arg>
        <bean class="ome.services.blitz.impl.ThumbnailStoreI">
            <constructor-arg ref="managed-ome.api.ThumbnailStore"/>
            <constructor-arg ref="throttlingStrategy"/>
        </bean>
    </constructor-arg>
  </bean>

</beans>
