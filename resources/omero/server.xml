<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<!--
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# $Id$
#
# Copyright 2007 Glencoe Software, Inc. All rights reserved.
# Use is subject to license terms supplied in LICENSE.txt
#
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Written by:  Josh Moore, josh at glencoesoftware.com
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-->

<!-- Configuration for ICE services. -->

<beans>

  <bean id="Ice.Communicator" class="ome.services.blitz.config.IceCommunicatorFactoryBean">
    <property name="adapters" value="BlitzAdapter"/>
    <property name="logger">
      <bean class="ome.services.blitz.util.CommonsLoggingAdapter">
        <constructor-arg>
          <bean class="org.springframework.beans.factory.config.CommonsLogFactoryBean">
            <property name="logName" value="IceRuntime"/>
          </bean>
        </constructor-arg>
      </bean>
    </property>
  </bean>

  <bean id="BlitzAdapter" class="ome.services.blitz.config.IceObjectAdapterFactoryBean">
    <property name="servants">
      <map>
        <entry key="BlitzVerifier" value-ref="BlitzVerifier"/>
        <entry key="BlitzManager" value-ref="BlitzManager"/>
      </map>
    </property>
  </bean>

  <bean id="BlitzManager" class="ome.services.blitz.fire.SessionManagerI">
    <constructor-arg ref="securitySystem"/>
    <constructor-arg ref="sessionManager"/>
  </bean>

  <bean id="BlitzVerifier" class="ome.services.blitz.fire.PermissionsVerifierI">
    <constructor-arg ref="sessionManager"/>
  </bean>

</beans>
